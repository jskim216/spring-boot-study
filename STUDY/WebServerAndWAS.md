## Web server 와 WAS

### web server

- 정적 컨텐츠 제공
- Apache, NginX 등

### WAS

- 비즈니스 로직 등 처리를 요구하는 동적 컨텐츠 제공
- 웹 컨테이너, 서블릿 컨테이너로 불림
- Tomcat, JBoss, WebSphere 등

### web server 와 WAS 의 분리

- WAS 가 web server 의 기능도 할 수는 있으나 여러 측면에서 web server 와 WAS 를 분리하여 구성
  1. 서버 부하를 방지
  2. 보안 강화
  3. 여러대의 WAS 연결 가능
  4. 여러 웹 어플리케이션 서비스 가능

### web server 와 WAS 의 연동

- 일반적으로 web server 가 앞단에 위치하여 넘어온 요청을 처리
  1. 사용자가 브라우저를 통해 아파치 웹서버에 요청
  2. 아파치 웹서버는 이 요청이 톰캣에서 처리해야하는 요청인지 확인
  3. 톰캣에서 처리해야하는 경우 톰캣의 AJP 포트에 접속하여 요청건 전달
  4. 톰캣은 웹서버로부터 요청을 전달받아 처리 후 다시 웹서버에 전달
  5. 아파치 웹서버는 결과값을 사용자에게 전달

### AJP

- web server 에서 받은 요청을 WAS 로 전달해주는 프로토콜